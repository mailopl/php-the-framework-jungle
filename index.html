<!DOCTYPE html>
<html class="no-js"  >
    <head>
        <meta charset="utf-8" />
        <!-- 
               _           _                   _                       
              | |         (_)                 | |                      
         _ __ | |__  _ __  _ _   _ _ __   __ _| | ___   ___  _ __ __ _ 
        | '_ \| '_ \| '_ \| | | | | '_ \ / _` | |/ _ \ / _ \| '__/ _` |
        | |_) | | | | |_) | | |_| | | | | (_| | |  __/| (_) | | | (_| |
        | .__/|_| |_| .__/| |\__,_|_| |_|\__, |_|\___(_)___/|_|  \__, |
        | |         | |  _/ |             __/ |                   __/ |
        |_|         |_| |__/             |___/                   |___/ 

        
               _            _                                              _                   _ 
              (_)          | |                                            | |                 | |
         _ __  _  ___ ___  | |_ ___    ___  ___  ___   _   _  ___  _   _  | |__   ___ _ __ ___| |
        | '_ \| |/ __/ _ \ | __/ _ \  / __|/ _ \/ _ \ | | | |/ _ \| | | | | '_ \ / _ \ '__/ _ \ |
        | | | | | (_|  __/ | || (_) | \__ \  __/  __/ | |_| | (_) | |_| | | | | |  __/ | |  __/_|
        |_| |_|_|\___\___|  \__\___/  |___/\___|\___|  \__, |\___/ \__,_| |_| |_|\___|_|  \___(_)
                                                        __/ |                                    
                                                       |___/                                             
        -->
        <title>PHP: The framework jungle</title>
        <meta name="description" content="phpjungle.org tells you, how to do X thing in Y PHP framework. Ruby has Rails, PHP has Symfony2, ZF, CakePHP, Yii, Laravel. Here you have everything you need, to choose the right one for you." />
        <meta name="robots" content="index,follow,archive"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <meta property="og:image" content="./img/typical_panda_nothing_fancy.png"/>
        <meta property="og:title" content="PHP: The Framework Jungle"/>
        <meta property="og:description" content="phpjungle.org tells you, how to do X thing in Y PHP framework. Ruby has Rails, PHP has Symfony2, ZF, CakePHP, Yii, Laravel. Here you have everything you need, to choose the right one for you."/>
        <meta property="og:url" content="http://www.php-jungle.com"/>
        <meta property="og:site_name" content="PHP: The Framework Jungle"/>
        <meta property="og:type" content="website"/>
        
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <link rel="stylesheet" href="css/bootstrap-responsive.min.css" />
        <link rel="stylesheet" href="css/main.css" />
        <link rel="stylesheet" href="css/chosen.css" />

        
        <link href="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.css" type="text/css" rel="stylesheet" />
        <script type="text/javascript" src="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.js"></script>


        <link rel="shortcut icon" href="favicon.png">
        <script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
    </head>
    <body>
        <a class="fork-me" href="https://github.com/mailopl/php-the-framework-jungle">
            <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
        </a>
        <div class="container">
                <img src="./img/typical_panda_nothing_fancy.png" alt="Our panda logo!" class="panda"/>
                <h1 class="show-text">What &amp; how ?</h1>
                <h1 class="show-text" style="display:none">Ok, I get it...</h1>
                
                <div class="hide-me">
                    <p class="explain-me">phpjungle.org Panda tells you, how to do <b>X</b> thing in <b>Y</b> framework </p>
                </div>
                
                <div class="hide-me" style="display:none">
                    
                        <p><strong>Welcome, in the framework jungle!</strong></p>
                        <p>There's no Rails for PHP. </p>
                        <p>There's Symfony2, ZF2, CakePHP, Yii, Kohana, CodeIgniter, Laravel... and the list goes on. <br /><br />
                        What do <strong>ALL</strong> of these frameworks have in common ? <b>Scenarios</b> in which you will use them.</p>
                        <p>For example, <b>user authentication</b>. It doesn't matter if you use Symfony2 or Laravel, if you need some  <br />
                        badass authentication - you can do it in any of them.
                        </p>
                        <p>This site is build to help you spot differences between frameworks. </p>
                        <p>How does REST look like in CakePHP ? Symfony? <br />
                        We hope you find a way out of this jungle and pick a framework that suits your needs and sense of aesthetics.</p>
                        <p>
                        We use <a href="img/erd.png" target="_blank">this database schema <img src="img/database.png" alt="ERD"/></a>. <br />
                        Using that schema, we created business rules, common routes (like http://domain.com/users/new) and few other common factors.
                    </p>
                    
                </div>

            <ul class="nav nav-pills">
                                    <li class="active">
                        <a href="#CakePHP">CakePHP</a>
                    </li>
                                    <li class="">
                        <a href="#CodeIgniter">CodeIgniter</a>
                    </li>
                                    <li class="">
                        <a href="#Laravel">Laravel</a>
                    </li>
                                    <li class="">
                        <a href="#PhalconPHP">PhalconPHP</a>
                    </li>
                                    <li class="">
                        <a href="#Yii">Yii</a>
                    </li>
                     
                <li class="tweet"> 
                    <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://phpjungle.org" data-count="none" data-hashtags="php">Tweet</a>
                </li>
            </ul>
            

                        

            <div class="well">
                <h4>
                    Tell me, what do I need to do..
                    <select class="chosen" style="width:400px;">
                                                               
                            <option value="0f9f632fb608fd248f0db1641cbc35a1" data-target=".0f9f632fb608fd248f0db1641cbc35a1" data-toggle="tab">
                            .. to get a specified record from database                            </option>
                                                               
                            <option value="d66bc7c6d63e3dc114e31c93abab108c" data-target=".d66bc7c6d63e3dc114e31c93abab108c" data-toggle="tab">
                            .. to connect to a database                            </option>
                                                               
                            <option value="5e6627306bd8367584ad8c95489dca99" data-target=".5e6627306bd8367584ad8c95489dca99" data-toggle="tab">
                            .. to translate my application                            </option>
                                                               
                            <option value="d42ff555bc135e652d2ef1f1e9deb03f" data-target=".d42ff555bc135e652d2ef1f1e9deb03f" data-toggle="tab">
                            .. to fetch related records                            </option>
                                                               
                            <option value="3b4a55995064f57c972491b8923ae477" data-target=".3b4a55995064f57c972491b8923ae477" data-toggle="tab">
                            .. to save related records                            </option>
                                                               
                            <option value="aa13eed3914c83d179d65127b4be552c" data-target=".aa13eed3914c83d179d65127b4be552c" data-toggle="tab">
                            .. to validate my model                            </option>
                                                               
                            <option value="c1e47cc6a4f44f3bd90e976df094b092" data-target=".c1e47cc6a4f44f3bd90e976df094b092" data-toggle="tab">
                            .. to generate a basic view                            </option>
                                                               
                            <option value="f8e5973d732fcccc203c1924ff7d5ad2" data-target=".f8e5973d732fcccc203c1924ff7d5ad2" data-toggle="tab">
                            .. to have pretty URLs                            </option>
                                                               
                            <option value="e0da484f7ed67e823809390660a4135d" data-target=".e0da484f7ed67e823809390660a4135d" data-toggle="tab">
                            .. to have my data cached                            </option>
                                                               
                            <option value="6c0247d15475029aed4534cda4dee102" data-target=".6c0247d15475029aed4534cda4dee102" data-toggle="tab">
                            .. to define models                            </option>
                                                               
                            <option value="09aa368ee72c318e92f25778641a494c" data-target=".09aa368ee72c318e92f25778641a494c" data-toggle="tab">
                            .. to go REST                            </option>
                                                               
                            <option value="17b04360b30c2104ef4a90407bf0df56" data-target=".17b04360b30c2104ef4a90407bf0df56" data-toggle="tab">
                            .. to authenticate the User                            </option>
                                                               
                            <option value="20084acf93b42e3d60be606475f5c7a1" data-target=".20084acf93b42e3d60be606475f5c7a1" data-toggle="tab">
                            .. to send an Email                            </option>
                                                               
                            <option value="68de97de20c0352e2c80ea61eeab9401" data-target=".68de97de20c0352e2c80ea61eeab9401" data-toggle="tab">
                            .. to control route access                            </option>
                                                               
                            <option value="715910fd0dc8009db366b9922c1e5207" data-target=".715910fd0dc8009db366b9922c1e5207" data-toggle="tab">
                            .. to use migrations                            </option>
                                                               
                            <option value="9e42f2daa9c83d23b334e72266def544" data-target=".9e42f2daa9c83d23b334e72266def544" data-toggle="tab">
                            .. to show SQL log                            </option>
                                            </select>   
                </h4>
                <hr />

                                                                            
                    <ul class="urls nav nav-pills">
                                                                                  <li>  <a target="_blank" href="http://cakephp.org">Official website</a></li>
                                                          <li>  <a target="_blank" href="http://book.cakephp.org">Official docs</a></li>
                                                                        </ul>
                    
                    <h2 id="CakePHP">CakePHP</h2>

                    <div class="tabbable tabs-left">
                        <ul class="nav nav-tabs">
                                                                                        <li class="active"><a href="#b4d7c81954d2eeaf185191355ee02fa9" data-toggle="tab">2.2</a></li>
                                                    </ul>

                        <div class="tab-content">       
                                                                                                                                                                        
                            <div class="tab-pane active" id="b4d7c81954d2eeaf185191355ee02fa9">   
                                <div class="tabbable">
                                    <hr />
                                    <div class="tab-content">
                                                                                                                        <div class="tab-pane 0f9f632fb608fd248f0db1641cbc35a1">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Controller/UserController.php
{
    $user = $this->User->find('first', array(
        'conditions' => array(
            'User.id' => 7
        )
    ));
    //or using custom SQL
    $user = $this->User->findUserByMyCustomSql();
}
</pre>

<pre class='prettyprint linenums languague-php'>
//app/Model/User.php
{
    return $this->query('SELECT * FROM users WHERE id=?', array(7));
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d66bc7c6d63e3dc114e31c93abab108c">
                                                                                            <p>You just need to set your config data, and you are good to go.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Config/database.php
class DATABASE_CONFIG {
    public $default = array(
        'datasource'  => 'Database/Mysql',
        'persistent'  => false,
        'host'        => 'localhost',
        'login'       => 'jungle',
        'password'    => 'elgnuj',
        'database'    => 'jungle',
    );
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 5e6627306bd8367584ad8c95489dca99">
                                                                                            <p>CakePHP uses double underscore and __n() functions to provide easy localization. Later on you just run <a target="_blank" href="http://book.cakephp.org/2.0/en/console-and-shells/i18n-shell.html">cake i18n extract</a> command.</p>
                                            
                                                                                            <pre class='prettyprint'>
#CakePHP CLI
cake i18n extract
</pre>

<pre class='prettyprint linenums languague-php'>
//app/Controller/UserController.php
{
    $count = 7;

    echo !$count ? 
        __('No new messages') :
        __n('One new message', sprintf('You\'ve got %s new messages', $count))
    ;
    //You've got 7 new messages
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d42ff555bc135e652d2ef1f1e9deb03f">
                                                                                            <p>You need to first define a model and proper relations and then you just:</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Controller/UserController.php
{
    $user = $this->User->findById(7);

    print_r($user['Posts']); //user posts
    print_r($user['Posts'][0]['Tags']); //tags related to particular post
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 3b4a55995064f57c972491b8923ae477">
                                                                                            <p>In CakePHP saving related records (belongs to, has many, habtm) is super easy as you can see below.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-html'>
//app/View/Post/add.ctp
echo $this->Form->create('Post');
    echo $this->Form->input('name');
    echo $this->Form->input('content');
    echo $this->Form->input('Tag'); //creates multi-select field
    echo $this->Form->input('User'); //creates select field for belongs_to relation
echo $this->Form->end('Save');
</pre>

<pre class='prettyprint linenums languague-php'>
//app/Controller/PostsController.php
public function add()
{
    if ($this->request->is('post')) {
        
        if ($this->Post->save($this->request->data)) {
            //success
        }
    }

    $this->set('tags', $this->Post->Tag->find('list'));
    $this->set('users', $this->Post->User->find('list'));
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane aa13eed3914c83d179d65127b4be552c">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Model/User.php
public $validate = array(
    'email' => array(
        'isUnique' => array(
            'rule'     => 'isUnique',
            'message'  => 'This email is already used.'
        ),
        'email' => array(
            'rule'    => 'email',
            'message' => 'Enter a valid email.'
        )
    ),
    'password' => array(
        'rule'    => array('minLength', '8'),
        'message' => 'Minimum 8 characters long'
    ),
);

//app/Model/Post.php
public $validate = array(
    'name' => array(
        'rule'    => array('minLength', '3'),
    ),
    'content' => array(
        'rule'    => array('minLength', '3'),
        'message' => 'Minimum 3 characters long'
    ),
);
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane c1e47cc6a4f44f3bd90e976df094b092">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Controller/PostsController.php
{
    $this->render('index',array(
         'post'=> $this->Post->findById(7),
    ));
}
</pre>

<pre class='prettyprint linenums languague-php'>
//app/View/Post/index.ctp

echo $this->Html->link(
    $post['User']['email'], 
    array(
        'controller' => 'users', 
        'action' => 'view', 
        $post['User']['id']
    )
); //url

echo $this->Html->image('logo.png'); //image
echo $this->Html->script('main.js'); //js
echo $this->Html->css('style.css'); //css
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane f8e5973d732fcccc203c1924ff7d5ad2">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Config/routes.php
Router::connect('/people/*', array('controller' => 'users', 'action' => 'index'));
Router::connect('/guy/:email*', array('controller' => 'users', 'action' => 'view'));
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane e0da484f7ed67e823809390660a4135d">
                                                                                            <p>In CakePHP you can cache queries (in your model) using <a href="http://book.cakephp.org/2.0/en/models/model-attributes.html#cachequeries" target="_blank">$cacheQueries</a> attribute,<br />
<a href="http://book.cakephp.org/2.0/en/core-libraries/helpers/cache.html" target="_blank">views </a> or any variable using <a href="http://book.cakephp.org/2.0/en/core-libraries/caching.html" target="_blank">Cache</a> class.<br />
<br />
CakePHP has built in support for memcache, XCache, APC and Redis.<br />
</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Controller/PostController.php
{
    if(!($cachedPosts = Cache::read('cache.post.index'))) {
        $cachedPosts = $this->Post->find('all');
        Cache::write('cache.post.index', $cachedPosts);
    }
}
</pre>

Or in your model:

<pre class='prettyprint linenums languague-php'>
//app/Model/Post.php
public function findLatestPosts()
{
    if(!($cachedPosts = Cache::read('cache.post.index'))) {
        $cachedPosts = $this->find('all');
        Cache::write('cache.post.index', $cachedPosts);
    }
    return $cachedPosts;
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 6c0247d15475029aed4534cda4dee102">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Model/User.php
class User extends AppModel {
    public $displayField = 'email';

    public $hasMany = array(
        'Post' => array(
            'className' => 'Post',
            'foreignKey' => 'user_id',
        )
    );
}

//app/Model/Post.php
class Post extends AppModel {
    public $hasAndBelongsToMany = array(
        'Tag' => array(
            'className'              => 'Tag',
            'joinTable'              => 'post_tags',
            'foreignKey'             => 'post_id',
            'associationForeignKey'  => 'tag_id',
            'unique'                 => true,
        )
    );

    public $belongsTo = array(
        'User' => array(
            'className'    => 'User',
            'foreignKey'   => 'user_id'        
        )
    );
}

//app/Model/Tag.php
class Tag extends AppModel {

    public $hasAndBelongsToMany = array(
        'Post' => array(
            'className'              => 'Post',
            'joinTable'              => 'post_tags',
            'foreignKey'             => 'tag_id',
            'associationForeignKey'  => 'post_id',
            'unique'                 => true,
        )
    );
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 09aa368ee72c318e92f25778641a494c">
                                                                                            <p>You need three things - set up routing, define some controller and a view that outputs json data.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Config/routes.php
Router::mapResources('posts');
Router::parseExtensions();
</pre>

<pre class='prettyprint linenums languague-php'>
//app/Controller/PostsController.php
class PostsController extends AppController {

    public $components = array('RequestHandler');

    public function index() {
        $posts = $this->Post->find('all');
        $this->set(array(
            'posts' => $posts,
            '_serialize' => array('post')
        ));
    }

    public function view($id) {
        $post = $this->Post->findById($id); //or you could just json_encode here
        $this->set(array(
            'post' => $post,
            '_serialize' => array('post')
        ));
    }
    //...
}
</pre>  

<pre class='prettyprint linenums languague-php'>
//app/View/Post/json/view.ctp
echo json_encode($post);
</pre>

<pre class='prettyprint linenums languague-php'>
//app/View/Post/json/index.ctp
foreach ($posts as &amp;$post) {
    unset($post['Post']['user_id']);
}
echo json_encode($posts);
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 17b04360b30c2104ef4a90407bf0df56">
                                                                                            <p>CakePHP has built in excellent Auth component.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Controller/UserController.php
class UserController extends AppController 
{
    public $components = array(
        'Auth' => array(
            'username' => 'email' //we change default username field to email since we use it
        )
    );  
    
    public function login() 
    {
        if ($this->request->is('post')) {
            if ($this->Auth->login()) {
                return $this->redirect($this->Auth->redirect());
            } else {
                die('Username or password is incorrect');
            }
        }
    }
    
    public function logout() 
    {
        $this->redirect($this->Auth->logout());    
    }                  
}
</pre>


<pre class='prettyprint linenums languague-php'>
//app/View/User/login.ctp
echo $this->Session->flash('auth');
echo $this->Form->create('User');
echo $this->Form->input('email');
echo $this->Form->input('password');
echo $this->Form->end('Log in');
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 20084acf93b42e3d60be606475f5c7a1">
                                                                                            <p>CakePHP has built in CakeEmail component for sending emails.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/Controller/UserController.php
public function register() {
    App::uses('CakeEmail', 'Network/Email');

    //...
    $email = new CakeEmail();
    $email
        ->from(array('admin@phpjungle.org' => 'Jungle Chief'))
        ->to($_POST['User']['email'])
        ->subject('Registration')
        ->send('Registration OK');

    //or in "one" liner:
    CakeEmail::deliver(
        $_POST['User']['email'], 
        'Registration', 
        'Registration OK', 
        array('from' => 'admin@phpjungle.org')
    );

}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 68de97de20c0352e2c80ea61eeab9401">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>                    
//app/Controller/UsersController.php
public function beforeFilter() {
    $this->Auth->allow('register');  
     
    if ($this->Auth->user('role') == 'user') { //if the user is logged in
        $this->Auth->allow('logout'); //allow to log out
        $this->Auth->deny('login'); //do not allow to log in (beause it doesn't make sense)
    }  
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 715910fd0dc8009db366b9922c1e5207">
                                            
                                                                                            Following code creates first schema file:
<pre class='prettyprint'>
cake schema generate
</pre>

Runned again, asks you:
<pre class='prettyprint'>
Generating Schema...
Schema file exists.
 [O]verwrite
 [S]napshot
 [Q]uit
Would you like to do? (o/s/q)
</pre>
When you select [s], incremental update to schema.php will be created (ex. schema_2.php), and then:

<pre class='prettyprint'>
cake schema update -s 2
</pre>

Where 2, is the version number.                                                                                    </div>
                                                                                                                         <div class="tab-pane 9e42f2daa9c83d23b334e72266def544">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>   
//in your controller
Configure::write('debug', 2);
</pre>
<pre class='prettyprint linenums languague-php'>   
//in your view
echo $this->element('sql_dump');
</pre>                                                                                    </div>
                                                                             </div>
                                </div>
                                </div>
                                                    </div>
                    </div>
                                                                            
                    <ul class="urls nav nav-pills">
                                                                                  <li>  <a target="_blank" href="http://ellislab.com/codeigniter">Official website</a></li>
                                                          <li>  <a target="_blank" href="http://ellislab.com/codeigniter/user-guide/">Official docs</a></li>
                                                          <li>  <a target="_blank" href="https://github.com/EllisLab/CodeIgniter/">GitHub</a></li>
                                                                        </ul>
                    
                    <h2 id="CodeIgniter">CodeIgniter</h2>

                    <div class="tabbable tabs-left">
                        <ul class="nav nav-tabs">
                                                                                        <li class="active"><a href="#05deb2a3c795ebcec97f046e1df850f9" data-toggle="tab">2.1.x</a></li>
                                                    </ul>

                        <div class="tab-content">       
                                                                                                                                                                        
                            <div class="tab-pane active" id="05deb2a3c795ebcec97f046e1df850f9">   
                                <div class="tabbable">
                                    <hr />
                                    <div class="tab-content">
                                                                                                                        <div class="tab-pane 0f9f632fb608fd248f0db1641cbc35a1">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
{
    $user = $this->db->get_where('user', ['id' => 7]);
    
    //or using custom SQL
    $user = $this->User_model->findByQuery();
}
</pre>

<pre class='prettyprint linenums languague-php'>
//application/models/user_model.php
{
    return $this->db->query('SELECT * FROM users WHERE id=?', [7]);
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d66bc7c6d63e3dc114e31c93abab108c">
                                                                                            <p>You just need to set your config data, and you are good to go.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/config/database.php
//...
$db['default']['hostname'] = 'localhost';
$db['default']['username'] = 'jungle';
$db['default']['password'] = 'elgnuj';
$db['default']['database'] = 'jungle';
$db['default']['dbdriver'] = 'mysql';
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 5e6627306bd8367584ad8c95489dca99">
                                                                                            <p>CodeIgniter uses lang library in order to provide easy localization.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/language/english/error_lang.php
$lang['no'] = 'No new messages';
$lang['one'] = 'One new message';
$lang['many'] = 'You\'ve got %s new messages.';

</pre>

<pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
{
    $this->load->lang('error_lang', 'en');

    $count = 7;

    if ($count == 0){
        echo $this->lang->line('no');
    }else if($count == 1){
        echo $this->lang->line('one');
    }else{
        echo sprintf($this->lang->line('many'), $count);
    }
    //You've got 7 new messages
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d42ff555bc135e652d2ef1f1e9deb03f">
                                                                                            <p>CodeIgniter has no built-in ORM so you can use joins with active record library, or download additional ORM library like DataMapper.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
$this->db->select('*');
$this->db->from('users');
$this->db->join('posts', 'posts.user_id = users.id');
$this->db->where('id=7');
$query = $this->db->get();
print_r($query->result()); //user posts and join data
</pre>

By using <a href="http://stensi.com/datamapper/" target="_blank">DataMapper library</a> this can look like below: <br />
<pre class='prettyprint linenums languague-php'>
$user = $this->User->where('id', 7)->get();
$posts = $user->post->get();
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 3b4a55995064f57c972491b8923ae477">
                                                                                            <p>In CodeIgniter saving related records requires some extra work, because of no built in ORM:</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-html'>
//application/views/post/create.php

echo form_open('post/create');
    echo form_input('name');
    echo form_textarea('content');
    echo form_dropdown('user_id', $users); //creates select field for belongs_to relation
    echo form_dropdown('tag_id[]', $tags, null, ['multiple'=>'multiple']);//creates multi-select field
    echo form_submit('save');
echo form_close();
</pre>

Keep in mind that some parts (like transaction) of the code below should be placed in the model file, but for simplicity purposes we will leave them as below:

<pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
public function add()
{
    if ($this->input->method() === 'post') {
        $this->db->trans_begin();        
        $this->db->insert('posts', [
            'name'    => $this->input->post('name'),
            'content' => $this->input->post('content'),
            'user_id' => $this->input->post('user_id'),
        ]);

        foreach($this->input->post('tag_id') as $tag_id) {
            $this->db->insert('tags', [
                'tag_id' => $tag_id,
                'post_id' => $post_id
            ]);
        }
        if ($this->db->trans_status() === FALSE) {
            $this->db->trans_rollback();
        } else {
            $this->db->trans_commit();
        }        
    }

    return $this->load->view('user.index', [
        'tags' => $this->db->get('tags'),
        'users'=> $this->db->get('users')
    ]);     
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane aa13eed3914c83d179d65127b4be552c">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
$this->load->library('form_validation');
$this->form_validation->add_rule('name', 'Name', 'required|min_length[3]|max_length[50]');
$this->form_validation->add_rule('password', 'password', 'required|min_length[8]');
</pre>
<pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
$this->load->library('form_validation');
$this->form_validation->add_rule('name', 'Name', 'required|min_length[3]|max_length[50]');
$this->form_validation->add_rule('content', 'content', 'required|min_length[3]|max_length[2000]');
</pre>
<pre class='prettyprint linenums languague-php'>
//application/controllers/post.php and user.php
$validation = Validator::make(Input::all(), Post::$validation);

if ($this->form_validation->run() === false) {
    $this->load->view('login');
}
</pre>
<pre class='prettyprint linenums languague-php'>
//application/views/post/login.php
echo validation_errors();
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane c1e47cc6a4f44f3bd90e976df094b092">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
{
    $this->load->view('post/index', [
        'post' => $this->db->get_where('post', ['id' => 7]);
    ]);
}
</pre>

<pre class='prettyprint linenums languague-php'>
//application/views/post/index.php
echo anchor('users/view/' . $user->id, $user->email); // URL
echo img('logo.png'); //image
echo link('main.js'); //js
echo link('style.css'); //css
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane f8e5973d732fcccc203c1924ff7d5ad2">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/config/routes.php
$route['people'] = 'users/index';
$route['guy/(:any)'] =  'users/view';
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane e0da484f7ed67e823809390660a4135d">
                                                                                            <p>CodeIgniter has built in support for memcached, APC and File system cache.</p>
                                            
                                                                                            
<pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
{
    $this->load->driver('cache', ['adapter' => 'apc', 'backup' => 'file']);
    if(!($cached_posts = $this->cache->get('cache.post.index'))) {
        $cached_posts = $this->db->get('post');
        $this->cache->save('cache.post.index', $cached_posts, 1800);
    }
}
</pre>

Or in your model:

<pre class='prettyprint linenums languague-php'>
//application/models/post.php
public static function find_latest_posts()
{
    if(!($cached_posts = $this->cache->get('cache.post.index'))) {
        $cached_posts = $this->db->get('post');
         $this->cache->save('cache.post.index', $cached_posts, 1800);
    }
    return $cached_posts;
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 6c0247d15475029aed4534cda4dee102">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/models/user_model.php
class User extends CI_Model { 
    // no relations possible, cause it's not ORM
}

//application/models/post_model.php
class Post extends CI_Model {
    // no relations possible, cause it's not ORM
  
}

//application/models/tag_model.php
class Tag extends CI_Model {
    // no relations possible, cause it's not ORM
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 09aa368ee72c318e92f25778641a494c">
                                                                                            <p>CodeIgniter does not include any REST library, but you can use <a href="https://github.com/philsturgeon/codeigniter-restserver" target="_blank">CodeIgniter-RestServer library</a>. <br />Additionally it does support Authentication and API keys out of the box.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
class Post_Controller extends REST_Controller {
    public function index_get($id) {
        $post = $this->db->get_where('post', ['id'=>$id]);
        $this->response($post->result());
    }
}
</pre>                                                                                      </div>
                                                                                                                         <div class="tab-pane 17b04360b30c2104ef4a90407bf0df56">
                                                                                            <p>CodeIgniter has no built in Auth component, but you can use <a href="https://github.com/TankAuth/Tank-Auth" target="_blank">Tank-Auth</a> library. <br />Example below shows basic user authentication.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
class User extends CI_Controller 
{
    public function login() {
        if ($this->input->post('submit')) {
            $user = $this->User->validate();

            if ($user) {
                $this->session->set_userdata($user);
                redirect('user/profile');
            } else {
                $this->index();
            }
        }
    }
    
    public function logout() {
        $this->session->sess_destroy();
        redirect('user/index');
    }                
}
</pre>


<pre class='prettyprint linenums languague-php'>
//application/models/user_model.php
public function validate() {
    $this->db->where('login', $this->input->post('login'));
    $this->db->where(
        'password',
        $this->encrypt->sha1(
            $this->config->item('encryption_key') . $this->input->post('password')
        )
    );

    $query = $this->db->get('user');

    if ($query->num_rows == 1) {
        return $query->row();
    }

    return false;
}
</pre>

<pre class='prettyprint linenums languague-php'>
//application/views/user/login.php
echo validation_errors();
echo form_open('user/login');
    echo form_input('login', 'Login');
    echo form_input('password', 'Password');
    echo form_submit('submit','Login');
echo form_close(); 
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 20084acf93b42e3d60be606475f5c7a1">
                                                                                            <p><br />
                    CodeIgniter includes Email library, so sending an email is an easy task.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
public function register() {

    $this->load->library('email');

    $this->email->from('admin@phpjungle.org', 'Jungle Chief');
    $this->email->to($this->input->post('email')); 

    $this->email->subject('Registration');
    $this->email->message('Registration OK');  

    $this->email->send();
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 68de97de20c0352e2c80ea61eeab9401">
                                                                                            <p>By default CodeIgniter does not come with ACL library but you can use for example <a href="https://github.com/brandesign/CodeIgniter-ACL" target="_blank">CodeIgniter-ACL</a>.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php

public function __construct()
{
    parent::__construct();
    $this->load->library('acl_auth');
    $this->acl_auth->restrict_access('admin');
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 715910fd0dc8009db366b9922c1e5207">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
defined('BASEPATH') OR exit('No direct script access allowed');
class Migration_Create_users {
    /**
     * Make changes to the database.
     *
     * @return void
     */
    public function up()
    {
        $this->dbforge->add_field([
            'id' => [
                'type' => 'INT',
                'constraint' => 5,
                'unsigned' => true,
                'auto_increment' => true
            ],
            'email' => [
                'type' => 'VARCHAR',
                'constraint' => '100',
            ],
            'password' => [
                'type' => 'VARCHAR',
                'null' => false,
            ],
            'role' => [
                'type' => 'INT',
                'null' => true,
            ],
        ]);
        
        $this->dbforge->create_table('users');
    }
    /**
     * Revert the changes to the database.
     *
     * @return void
     */
    public function down()
    {
        $this->dbforge->drop_table('users');
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 9e42f2daa9c83d23b334e72266def544">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>                    
//in your controller
public function register() {
    $this->output->enable_profiler(TRUE);    
    // ...
}
</pre>                                                                                    </div>
                                                                             </div>
                                </div>
                                </div>
                                                    </div>
                    </div>
                                                                            
                    <ul class="urls nav nav-pills">
                                                                                  <li>  <a target="_blank" href="http://laravel.com">Official website</a></li>
                                                          <li>  <a target="_blank" href="http://laravel.com/docs">Official docs</a></li>
                                                                        </ul>
                    
                    <h2 id="Laravel">Laravel</h2>

                    <div class="tabbable tabs-left">
                        <ul class="nav nav-tabs">
                                                                                        <li class="active"><a href="#91e2bf72f2f940a90a50160e261eea67" data-toggle="tab">3.2.x</a></li>
                                                    </ul>

                        <div class="tab-content">       
                                                                                                                                                                        
                            <div class="tab-pane active" id="91e2bf72f2f940a90a50160e261eea67">   
                                <div class="tabbable">
                                    <hr />
                                    <div class="tab-content">
                                                                                                                        <div class="tab-pane 0f9f632fb608fd248f0db1641cbc35a1">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
{
    $user = User::find(7);
    
    //or using custom SQL
    $user = User::findUserByMyCustomSql();
}
</pre>

<pre class='prettyprint linenums languague-php'>
//application/models/user.php
{
    return DB::query('SELECT * FROM users WHERE id=?', array(7));
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d66bc7c6d63e3dc114e31c93abab108c">
                                                                                            <p>You just need to set your config data, and you are good to go.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/config/database.php
//...
'connections' => array(
        'mysql' => array(
            'driver'   => 'mysql',
            'host'     => 'localhost',
            'database' => 'jungle',
            'username' => 'jungle',
            'password' => 'elgnuj',
            'charset'  => 'utf8',
        ),
),
//...
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 5e6627306bd8367584ad8c95489dca99">
                                                                                            <p>Laravel uses double underscore function to provide easy localization but you have to create localization array on your own.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/languages/en/app.php
return array(
    'msg' => array(
        'no' => 'No new messages',
        'one' => 'One new message',
        'many' => 'You\'ve got :number new messages.'
    )
);
</pre>

<pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
{
    $count = 7;

    if ($count == 0){
        echo __('app.msg.no');
    }else if($count == 1){
        echo __('app.msg.one');
    }else{
        echo __('app.msg.many', array('number' => $count));
    }
    //You've got 7 new messages
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d42ff555bc135e652d2ef1f1e9deb03f">
                                                                                            <p>You need to first define a model and proper relations and then you just:</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
{
    $user = User::find(7);

    print_r($user->posts); //user posts
    print_r($user->posts[0]->tags); //tags related to particular post
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 3b4a55995064f57c972491b8923ae477">
                                                                                            <p>In Laravel saving related records requires some extra work:</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-html'>
//application/views/post/create.php
echo Form::open('post/create');
    echo Form::text('name');
    echo Form::textarea('content');
    echo Form::select('user_id', $users); //creates select field for belongs_to relation
    echo Form::select('tag_id[]', $tags, null, array('multiple'=>'multiple'));//creates multi-select field
    echo Form::submit('save');
echo Form::close();
</pre>

Keep in mind that some parts (like transaction) of the code below should be placed in the model file, but for simplicity purposes we will leave them as below:

<pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
public function add()
{
    if (Request::method() == 'POST') {
        $post = new Post(array(
                'name'    => Input::get('name'),
                'content' => Input::get('content'),
                'user_id' => Input::get('user_id'),
            )
        );

        try {
            DB::transaction(function() use ($post)
            {
                $post->save();

                foreach(Input::get('tag_id') as $tag_id) {
                    $post->tags()->attach($tag_id);
                }
            });
        } catch(PDOException $e) {
            die('Error saving a record, sorry');
        }
    }
    return View::make('user.index', array(
        'tags' => Tag::order_by('id','desc')->lists('name','id'),
        'users'=> User::order_by('id','desc')->lists('email','id')
    ));     
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane aa13eed3914c83d179d65127b4be552c">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/models/user.php
public static $validation = array(
    'email' => 'required|email|unique:users',
    'password'=>'required|min:8'
);

//application/models/post.php
public static $validation = array(
    'name' => 'required|min:3|max:50',
    'content' => 'required|min:3|max:2000'
);

//application/controllers/post.php
{
    $validation = Validator::make(Input::all(), Post::$validation);

    if ($validation->fails()) {
        return $validation->errors;
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane c1e47cc6a4f44f3bd90e976df094b092">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
{
    return View::make('post.index', array(
        'post' => Post::find(7)
    ));
}
</pre>

<pre class='prettyprint linenums languague-php'>
//application/views/post/index.php
use Laravel\Html as Html;

echo Html::link(URL::to_action('user@view', array($post->user->id)), $post->user->email); //url
echo Html::image('logo.png'); //image
echo Html::script('main.js'); //js
echo Html::style('style.css'); //css
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane f8e5973d732fcccc203c1924ff7d5ad2">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/routes.php
Route::any('people', 'users@index');
Route::any('guy/(:email)', 'users@view');
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane e0da484f7ed67e823809390660a4135d">
                                                                                            <p>Laravel has built in support for memcached, APC, Redis, Database cache, File system cache and Memory cache (arrays).</p>
                                            
                                                                                            
<pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
{
    if(!($cached_posts = Cache::get('cache.post.index'))) {
        $cached_posts = Post::all();
        Cache::put('cache.post.index', $cached_posts, 1800);
    }
}
</pre>

Or in your model:

<pre class='prettyprint linenums languague-php'>
//application/models/post.php
public static function find_latest_posts()
{
    if(!($cached_posts = Cache::get('cache.post.index'))) {
        $cached_posts = static::all();
        Cache::put('cache.post.index', $cached_posts, 1800);
    }
    return $cached_posts;
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 6c0247d15475029aed4534cda4dee102">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/models/user.php
class User extends Eloquent {

    public static $timestamps = false;
    
     public function posts() {
          return $this->has_many('Post');
     }
}

//application/models/post.php
class Post extends Eloquent {

    public function tags() {
        return $this->has_many_and_belongs_to('Tag');
    }
    
    public function user(){
        return $this->belongs_to('User');
    }
}

//application/models/tag.php
class Tag extends AppModel {

     public function posts() {
        return $this->has_many_and_belongs_to('Post');
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 09aa368ee72c318e92f25778641a494c">
                                                                                            <p>You need at least one thing - a controller with $restful property set to true.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/post.php
class Posts_Controller extends Base_Controller {

    public $restful = true;
    
    public function get_index() {
        $posts = Post::all();
        return Response::eloquent($posts);
    }
}
//application/controllers/post.php
class Post_Controller extends Base_Controller {

    public $restful = true;

    public function get_index($id) {
        $post = Post::find($id);
        return Response::eloquent($post);
    }
}
</pre>                                                                                      </div>
                                                                                                                         <div class="tab-pane 17b04360b30c2104ef4a90407bf0df56">
                                                                                            <p>Laravel has built in Auth component so user authentication is very easy.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
class User_Controller extends Base_Controller 
{
  
    public function action_login() 
    {
        $credentials = array(
            'email' => Input::get('email'), 
            'password' => Input::get('password')
        );

        if (Auth::attempt($credentials)){
            return Redirect::to('/');
        }else{
            die('Username or password is incorrect');
        }
    }
    
    public function logout() 
    {
        Auth::logout();
    }                  
}
</pre>


<pre class='prettyprint linenums languague-php'>
//application/views/user/login.php
echo Form::open('user/login');
    echo Form::text('email');
    echo Form::password('password');
    echo Form::submit('Log in');
echo Form::close();
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 20084acf93b42e3d60be606475f5c7a1">
                                                                                            <p><br />
                    There is no built in Email component in Laravel, but you can easily install Swift Mailer Bundle.</p>
                                            
                                                                                            <pre class='prettyprint'>
#command line
php artisan bundle:install messages
</pre>

<pre class='prettyprint linenums languague-php'>
//application/controllers/user.php
public function register() {

    Message::to(Input::get('email'))
    ->from('admin@phpjungle.org', 'Jungle Chief')
    ->subject('Registration')
    ->body('Registration OK')
    ->send();
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 68de97de20c0352e2c80ea61eeab9401">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//application/controllers.user.php
public function __construct()
{
    parent::__construct();

    //by default the users has access to the register and login actions, 
    //but he must be logged in, to log out or see the profile page
    $this->filter('before', 'auth')->only(array('logout','profile')); 

    $this->filter('before', 'auth:admin')->only(array('manage'));  //admin can manage users
}  

//application/routes.php
Route::filter('auth:admin', function() //we need to define what "auth:admin" filter means
{
    if (isset(Auth::user()) && Auth::user()->role != 'admin') return Redirect::to('login');
});  
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 715910fd0dc8009db366b9922c1e5207">
                                            
                                                                                            First you run: 
<pre class='prettyprint'>
php artisan migrate:install //creates migrations table
php artisan migrate:make create_users //creates migration file
</pre>

Then you fill up() and down() methods:
<pre class='prettyprint linenums languague-php'>
class Create_Users {
    /**
     * Make changes to the database.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('users', function($table) {
            $table->increments('id');
            $table->string('email', 45);
            $table->string('password', 45);
            $table->integer('role');
        });
    }
    /**
     * Revert the changes to the database.
     *
     * @return void
     */
    public function down()
    {
        Schema::drop('users');
    }
}
</pre>

And finally you run the migration: 
<pre class='prettyprint'>
php artisan migrate
</pre>
                                                                                    </div>
                                                                                                                         <div class="tab-pane 9e42f2daa9c83d23b334e72266def544">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>                    
//in your view or controller
print_r(DB::connection()->queries);
</pre>                                                                                    </div>
                                                                             </div>
                                </div>
                                </div>
                                                    </div>
                    </div>
                                                                            
                    <ul class="urls nav nav-pills">
                                                                                  <li>  <a target="_blank" href="http://phalconphp.com">Official website</a></li>
                                                          <li>  <a target="_blank" href="http://phalconphp.com/documentation">Official docs</a></li>
                                                                        </ul>
                    
                    <h2 id="PhalconPHP">PhalconPHP</h2>

                    <div class="tabbable tabs-left">
                        <ul class="nav nav-tabs">
                                                                                        <li class="active"><a href="#dea9e2a24e82325bc81841715e227925" data-toggle="tab">0.5</a></li>
                                                    </ul>

                        <div class="tab-content">       
                                                                                                                                                                        
                            <div class="tab-pane active" id="dea9e2a24e82325bc81841715e227925">   
                                <div class="tabbable">
                                    <hr />
                                    <div class="tab-content">
                                                                                                                        <div class="tab-pane 0f9f632fb608fd248f0db1641cbc35a1">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/controllers/UserController.php
{
    //by its integer primary key
    $user = User::findFirst(7);

    //by other primary key
    $user = User::findFirst('code=7');

    //or using custom SQL
    $user = User::findUserByMyCustomSql();
}
</pre>

<pre class='prettyprint linenums languague-php'>
//app/models/user.php
{
    return $this->db->query('SELECT * FROM users WHERE id=?', array(7));
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d66bc7c6d63e3dc114e31c93abab108c">
                                                                                            <p>You just need to set your config data, and inject database connection:</p>
                                            
                                                                                            
<pre class='prettyprint linenums languague-ini'>
//app/config/config.ini
[database]
host     = localhost
username = root
password = elgnuj
name     = jungle
</pre>
<pre class='prettyprint linenums languague-php'>
$di->set('db', function() use ($config) {
    return new \Phalcon\Db\Adapter\Pdo\Mysql(array(
        "host" => $config->database->host,
        "username" => $config->database->username,
        "password" => $config->database->password,
        "dbname" => $config->database->name
    ));
});
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 5e6627306bd8367584ad8c95489dca99">
                                                                                            <p>PhalconPHP uses <a href="http://www.php.net/manual/en/intro.intl.php" target="_blank">intl</a> extension to provide translations.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/controllers/UserController.php
{
    $count = 7;

    $message = new MessageFormatter($locale, 
     "{0,choice,0#No new messages|
      1#One new message|
      1>You've got {0,number} new messages}."
    );

    echo $message->format($count); //You've got 7 new messages
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d42ff555bc135e652d2ef1f1e9deb03f">
                                                                                            <p>You need to first define a model and proper relations and then you just:</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/controllers/UserController.php
{
    $user = User::findFirst(7);

    print_r($user->getPosts()); //user posts
    print_r($user->getPosts()[0]->getPostTags()); //tags related to particular post
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 3b4a55995064f57c972491b8923ae477">
                                                                                            <p>In PhalconPHP saving related records requires some extra work - transactions.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-html'>
//app/views/posts/create.phtml
&lt;?php use \Phalcon\Tag as Tag; ?&gt;
&lt;?= Tag::form("posts/create") ?&gt;
    &lt;?= Tag::textField(array("name")) ?&gt;
    &lt;?= Tag::textArea(array("content")) ?&gt;
    &lt;?= Tag::select(array("user_id", $users, "using" => array("id", "email"))) ?&gt;
    &lt;?= Tag::select(array("user_id", $users, "using" => array("id", "email"),"multiple"=>"multiple")) ?&gt;
    &lt;?= Tag::submitButton("Save") ?&gt;
&lt;/form>
</pre>

<pre class='prettyprint linenums languague-php'>
//app/controllers/PostController.php
use Phalcon\Mvc\Model\Transaction\Failed as TransactionFailed;

public function addAction()
{
    if ($this->request->isPost()) {
        
        try{
            $transaction = $this->transactionManager->get();
            
            $post = new Post;
            $post->setTransaction($transaction);
            $post->name = $request->getPost('name','striptags');
            $post->user_id = $request->getPost('user_id', 'int');
            $post->content = $request->getPost('content');
            
            if ($post->save() === false){
                $transaction->rollback("Error saving a record, sorry");
            }
            
            foreach($this->request->getPost('tag_id') as $tagId){
                $tag = new PostTags;
                $tag->setTransaction($transaction);
                $tag->post_id = $post->id;
                $tag->tag_id = $tagId;
                if (false == $tag->save()) {
                    $transaction->rollback('Cannot save tag #' . $tagId);
                }
            }

            $transaction->commit();
          
        } catch(TransactionFailed $e) { 
            die($e->getMessage());
        }
    }

    $this->view->setVar('tags', Tag::find());
    $this->view->setVar('users', User::find());
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane aa13eed3914c83d179d65127b4be552c">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/models/User.php
use Phalcon\Mvc\Model\Validator\Uniqueness;
use Phalcon\Mvc\Model\Validator\Email;

class Users extends Phalcon\Mvc\Model {
    public function validation() {
        $this->validate(new Uniqueness(
            array(
                "field"   => "email",
                "message" => "This email is already used."
            )
        ));
        $this->validate(new Email(array(
             'field' => 'email',
             "message" => "Enter a valid email."
        )));

        return $this->validationHasFailed() != true;
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane c1e47cc6a4f44f3bd90e976df094b092">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/views/post/index.phtml

echo \Phalcon\Tag::linkTo(array(
        'for' => 'view-user', 
        'id' => $post->getUser()->id
    ), 
    $post->getUser()->email
); 

echo \Phalcon\Tag::image('logo.png'); //image
echo \Phalcon\Tag::javascriptInclude('main.js'); //js
echo \Phalcon\Tag::stylesheetLink('style.css'); //css
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane f8e5973d732fcccc203c1924ff7d5ad2">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/routes.php
$router = new \Phalcon\Mvc\Router();

$router->add("/people", "Users::index");
$router->add("/guy/{email}", "Users::view");

$router->handle();
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane e0da484f7ed67e823809390660a4135d">
                                                                                            <p>In PhalconPHP you can cache <a href="http://docs.phalconphp.com/en/latest/reference/cache.html#caching-output-fragments" target="_blank">HTML fragments</a> and <a target="_blank" href="http://docs.phalconphp.com/en/latest/reference/cache.html#caching-arbitrary-data">database queries</a>.<br />
PhalconPHP has built in support for <a target="_blank" href="http://docs.phalconphp.com/en/latest/reference/cache.html#memcached-backend-example">memcached</a>, APC and file cache.<br />
<br />
</p>
                                            
                                                                                            

After you previously configure cache in your DI, you can use it like this:
<pre class='prettyprint linenums languague-php'>
//app/cntrollers/PostController.php      
{
    if(!($cachedPosts = $this->cache->get('cache.post.index'))) {
        $cachedPosts = Post::find();
        $this->cache->save('cache.post.index', $cachedPosts);
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 6c0247d15475029aed4534cda4dee102">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/models/User.php
class User extends \Phalcon\Mvc\Model {
    public function getSource() {
        return "users";
    }

   
    public function initialize() {
        $this->hasMany("id", "Post", "user_id");
    }
}
//app/models/Post.php
class Post extends \Phalcon\Mvc\Model {
    public function getSource() {
        return "posts";
    }
    
    public function initialize() {
        $this->belongsTo("user_id", "User", "id");
        $this->hasMany("id", "PostTags", "post_id");
    }
}
//app/models/Tag.php
class Tag extends \Phalcon\Mvc\Model {
    public function getSource() {
        return "tags";
    }

    public function initialize() {
        $this->hasMany("id", "PostTags", "tag_id");
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 09aa368ee72c318e92f25778641a494c">
                                                                                            <p>You need at least two things - routing and controller code.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/controllers/PostController.php
class PostController extends  \Phalcon\Mvc\Controller 
{
    public function index() {
        $posts = Post::find();

        $data = array();
        foreach($posts as $post) {
            $data[] = array(
                'id' => $post->id,
                'name' => $post->title,
            );
        }

        echo json_encode($data);
    }

    public function view($id) {
        $post = Post::find($id);
        echo json_encode($post);
    }
    //...
}
</pre>                                                                                      </div>
                                                                                                                         <div class="tab-pane 17b04360b30c2104ef4a90407bf0df56">
                                                                                            <p>PhalconPHP doesn't provide user Auth component by default.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/controllers/UserController.php
class UserController extends \Phalcon\Mvc\Controller
{
    public $components = array(
        'Auth' => array(
            'username' => 'email' //we change default username field to email since we use it
        )
    );  
    
    public function login() 
    {
       if ($this->request->isPost()) {
            $email    = $this->request->getPost('email', 'email');
            $password = sha1($this->request->getPost('password'));
            $user     = Users::findFirst("email='$email' AND password='$password'");
            
            if ($user != false) {
                $this->session->set('auth', array(
                    'id' => $user->id,
                    'name' => $user->name
                ));

                $this->flash->success('Welcome '.$user->name);
                
                return $this->dispatcher->forward(array(
                    'controller' => 'users',
                    'action' => 'profile',
                    'id'=>$user->id
                ));
            }
            $this->flash->error('Wrong email/password');
        }
    }
    
    public function logout() 
    {
        $this->session->remove('auth');
        $this->flash->success('Goodbye!');
        return $this->forward('/');
    }                  
}
</pre>


<pre class='prettyprint linenums languague-php'>
//app/view/users/login.phtml
&lt;?php echo Tag::form('user/login') ?&gt;
&lt;?php echo Tag::textField(array("email", "size" => "30")) ?&gt;
&lt;?php echo Tag::passwordField(array("password", "size" => "30")) ?&gt;
&lt;?php echo Tag::submitButton(array('Log in')) ?&gt;
&lt;/form&gt;
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 20084acf93b42e3d60be606475f5c7a1">
                                                                                            <p>PhalconPHP does not provide an email sending class but you can use one of the many extensions (like SwiftMail), or just use<br />
PHPs mail() function.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//app/controllers/UserController.php
public function register() {
    mail($_POST['User']['email'], 'Registration', 'Registration OK');
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 715910fd0dc8009db366b9922c1e5207">
                                            
                                                                                            
Running following command will dump tables and views from your database:

<pre class='prettyprint'>
phalcon gen-migration             
</pre>

When you run that command again, PhalconPHP will create subfolder with another version number and dumped tables/views.                                                                                    </div>
                                                                                                                         <div class="tab-pane 9e42f2daa9c83d23b334e72266def544">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//your bootstrap or index.php file
$eventsManager  = new \Phalcon\Events\Manager();
$di->set('db', function() use ($config, $eventsManager){

    $eventManager->attach('db', function($event, $connection) {
        if ($event->getType() == 'afterQuery') {
            echo $connection->getSQLStatement();
        }
    });

    $connection = new \Phalcon\Db\Adapter\Pdo\Mysql(array(
        "host" => $config->database->host,
        "username" => $config->database->username,
        "password" => $config->database->password,
        "dbname" => $config->database->name
    ));

    $connection->setEventsManager($eventsManager);

    return $connection;
});
</pre>                                                                                    </div>
                                                                             </div>
                                </div>
                                </div>
                                                    </div>
                    </div>
                                                                            
                    <ul class="urls nav nav-pills">
                                                                                  <li>  <a target="_blank" href="http://www.yiiframework.com/">Official website</a></li>
                                                          <li>  <a target="_blank" href="http://www.yiiframework.com/doc/">Official docs</a></li>
                                                                        </ul>
                    
                    <h2 id="Yii">Yii</h2>

                    <div class="tabbable tabs-left">
                        <ul class="nav nav-tabs">
                                                                                        <li class="active"><a href="#ad50a4f654e94165b93a8bd30d63e65f" data-toggle="tab">1.1</a></li>
                                                    </ul>

                        <div class="tab-content">       
                                                                                                                                                                        
                            <div class="tab-pane active" id="ad50a4f654e94165b93a8bd30d63e65f">   
                                <div class="tabbable">
                                    <hr />
                                    <div class="tab-content">
                                                                                                                        <div class="tab-pane 0f9f632fb608fd248f0db1641cbc35a1">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/controllers/UserController.php
{
    $user = User::model()->findByPk(7);
    //or
    $user = User::model()->findByAttributes(array(
        'user_id' => 7
    ));

    //or using custom SQL
    $user = User::model()->findUserByMyCustomSql();
}
</pre>

<pre class='prettyprint linenums languague-php'>
//protected/models/User.php
{
    return $this->findAllBySql('SELECT * FROM users WHERE id=:id', array(':id' => 7));
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d66bc7c6d63e3dc114e31c93abab108c">
                                                                                            <p>You just need to set your config data, and you are good to go.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/config/main.php
return array(
    'db' => array(
        'connectionString' => 'mysql:host=localhost;dbname=jungle',
        'emulatePrepare' => true,
        'username' => 'jungle',
        'password' => 'elgnuj',
        'charset' => 'utf8',
    ),
    // ...
);
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 5e6627306bd8367584ad8c95489dca99">
                                                                                            <p>Yii uses static method Yii::<b>t()</b> to provide translations. Later on you just run <b>yiic messages</b> command, and Yii creates a single file with translations.</p>
                                            
                                                                                            <pre class='prettyprint'>
#Yii CLI
yiic messages
</pre>

<pre class='prettyprint linenums languague-php'>
//protected/controllers/UserController.php
{
    $count = 7;

    echo  Yii::t(
        'system', 
        'n==0#No new messages|n>1# You\'ve got {n} new messages|n==1#One new message', array($count)
    );  
    //You've got 7 new messages
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane d42ff555bc135e652d2ef1f1e9deb03f">
                                                                                            <p>You need to first define a model and define the model relations.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/controllers/UserController.php
{
    $user = User::model()->findByPk(7);

    print_r($user->posts); //user posts
    print_r($user->posts[0]->tags); //tags related to particular post
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 3b4a55995064f57c972491b8923ae477">
                                                                                            <p>As far as there is no built-in way to save "has and belongs to many" records but you can use <a href="http://www.yiiframework.com/extension/esaverelatedbehavior">some</a> <a href="http://www.yiiframework.com/extension/cadvancedarbehavior/">extensions</a>.<br />
Example below shows how to save "belongs to" relation.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-html'>
//protected/views/post/_form.php
        
echo $form->dropDownList( //create select box
    $model, 
    'user_id', 
    CHtml::listData( User::model()->findAll(), 'id', 'email' ) //fetch all users
); 
</pre>

<pre class='prettyprint linenums languague-php'>
//protected/controllers/PostController.php

public function actionCreate()
{
    $model = new Post;

    if(isset($_POST['Post']))
    {
        $model->attributes = $_POST['Post'];
        
        if($model->save()) { 
            $this->redirect(array('index'));
        }
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane aa13eed3914c83d179d65127b4be552c">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/models/user.php
public function rules()
{
    return array(
        array('email, password', 'required'),
        array('email', 'email'),
        array('email','unique'),
        array('password', 'authenticate'),
        array('password','length','min'=>8,'max'=>45),
    );
}

//protected/models/post.php
public function rules()
{
    return array(
        array('name, content', 'required'),
        array('name','length','min'=>3,'max'=>45),
        array('content','length','min'=>3,'max'=>2000),
    );
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane c1e47cc6a4f44f3bd90e976df094b092">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/controllers/PostController.php
{
    $this->render('index',array(
        'post' => Post::model()->findByPk(7),
    ));
}
</pre>
<pre class='prettyprint linenums languague-php'>
//protected/views/posts/index.php

echo CHtml::link(
    $post->user->email, 
    array(
        'users/view', 
        'id' => $post->user->id
    )
); //url

echo CHtml::image('logo.png'); //image
echo CHtml::script('main.js'); //js
echo CHtml::css('style.css'); //css
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane f8e5973d732fcccc203c1924ff7d5ad2">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/config/main.php
 'components'=>array(
        'urlManager'=>array(
            'urlFormat'=>'path',
            'rules'=>array(
                '&lt;controller:\w+>/&lt;d:\d+>'=>'&lt;controller>/view',
                '&lt;controller:\w+>/&lt;action:\w+>/&lt;id:\d+>'=>'&lt;controller>/&lt;action>',
                '&lt;controller:\w+>/&lt;action:\w+>'=>'&lt;controller>/&lt;action>',
                
                'people/' => 'user/index',
                'guy/&lt;email:.*?>' => 'user/view'
            ),
        ),
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane e0da484f7ed67e823809390660a4135d">
                                                                                            <p>Yii provides support for memcache, XCache, APC and EAccelerator.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/controllers/PostController.php
{
    if(!($cachedPosts = Yii::app()->cache->get('cache.post.index'))) {
        $cachedPosts = Post::model()->findAll();
        Yii::app()->cache->set('cache.post.index', $cachedPosts);
    }
}
</pre>

In your model like that:

<pre class='prettyprint linenums languague-php'>
//protected/models/post.php
public function findLatestPosts()
{
    if(!($cachedPosts = Yii::app()->cache->get('cache.post.index'))) {
        $cachedPosts = $this->findAll();
        Yii::app()->cache->set('cache.post.index', $cachedPosts);
    }
    return $cachedPosts;
}
</pre>

Or like that:

<pre class='prettyprint linenums languague-php'>
//protected/models/post.php
public function findLatestPosts()
{
    $dependency = new CDbCacheDependency('SELECT MAX(modified) FROM posts');
    return Post::model()->cache(1000, $dependency)->findAll();
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 6c0247d15475029aed4534cda4dee102">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/models/user.php
class User extends CActiveRecord {   

    public static function model($className=__CLASS__){ //without this method you get an error
        return parent::model($className);
    }
 
    public function relations()
    {
        return array(
            'posts' => array(self::HAS_MANY, 'Post', 'user_id'),
        );
    }
}
//protected/models/post.php
class Post extends CActiveRecord {

    public static function model($className=__CLASS__){
        return parent::model($className);
    }

    public function relations()
    {
        return array(
            'tags' => array(self::MANY_MANY, 'Tag', 'posts_tags(post_id, tag_id)'),
            'user' => array(self::BELONGS_TO, 'User', 'user_id')
        );
    }
}
//protected/models/tag.php
class Tag extends CActiveRecord {

    public static function model($className=__CLASS__){
        return parent::model($className);
    }

    public function relations()
    {
        return array(
            'posts' => array(self::MANY_MANY, 'Post', 'posts_tags(post_id, tag_id)'),
        );
    }
}
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 09aa368ee72c318e92f25778641a494c">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/config/main.php
'urlManager'=>array(
    'urlFormat'=>'path',
    'rules'=>array(
        array('posts/index', 'pattern'=>'post', 'verb'=>'GET'),
        array('posts/view', 'pattern'=>'post/&lt;id:\d+>', 'verb'=>'GET'),
        array('posts/update', 'pattern'=>'post/&lt;id:\d+>', 'verb'=>'PUT'),
        array('posts/delete', 'pattern'=>'post/&lt;id:\d+>', 'verb'=>'DELETE'),
        array('posts/create', 'pattern'=>'post', 'verb'=>'POST'),
    ),
),
</pre>

<pre class='prettyprint linenums languague-php'>
//protected/controllers/PostsController.php
class PostsController extends Controller {
    public function actionIndex() 
    {
        header('Content-type: application/json');
        $posts = Post::model()->findAll();
        
        $rows = array();
        foreach($posts as $post) {
            $rows[] = $post->attributes;
        }
        
        echo CJSON::encode($rows);
        Yii::app()->end();
    }

    public function view($id) 
    {
        header('Content-type: application/json');

        echo CJSON::encode(Post::model()->findByPk($_GET['id']));
        Yii::app()->end();
    }
    //...
}
</pre>                                                                                      </div>
                                                                                                                         <div class="tab-pane 17b04360b30c2104ef4a90407bf0df56">
                                                                                            <p>You need to define a class extending from CUserIdentity which represents your logged in user. Since you define it, the rest is very simple.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/components/UserIdentity.php
class UserIdentity extends CUserIdentity
{
    private $_id;
    
    public function authenticate() {
        $record = User::model()->findByAttributes(array('email'=>$this->username));
        if($record === null) {
            $this->errorCode=self::ERROR_USERNAME_INVALID;
        } else if ($record->password!==md5($this->password)){
            $this->errorCode=self::ERROR_PASSWORD_INVALID;
        } else {
            $this->_id=$record->id;
            $this->errorCode=self::ERROR_NONE;
        }

        return !$this->errorCode;
    }
 
    public function getId() {
        return $this->_id;
    }
}
</pre>
<pre class='prettyprint linenums languague-php'>
//protected/controllers/UserController.php
class UserController extends Controller 
{
    public function actionLogin()
    {
        $model = new LoginForm;

        if (isset($_POST['LoginForm'])) {
            $model->attributes = $_POST['LoginForm'];
            
            if ($model->validate() && $model->login()){
                $this->redirect(array('/'));
            } else {
                    die('Username or password is incorrect');
            }
                
        }
        $this->render('login', array('model' => $model));
    }

    public function actionLogout()
    {
        Yii::app()->user->logout();
        $this->redirect(Yii::app()->homeUrl);
    }
}   
</pre>
<pre class='prettyprint linenums languague-php'>
//protected/views/site/login.php
$form = $this->beginWidget('CActiveForm', array(
    'id'=>'login-form',
));
    
echo $form->textField($model,'username',array('size'=>'54','class'=>'input')); 
echo $form->error($model,'username',array('class'=>'errors')); 

echo $form->passwordField($model,'password',array('size'=>'54','class'=>'input')); 
echo $form->error($model,'password',array('class'=>'errors')); 

echo CHtml::submitButton('Log in'); 
    
$this->endWidget(); 
</pre>
                                                                                    </div>
                                                                                                                         <div class="tab-pane 20084acf93b42e3d60be606475f5c7a1">
                                                                                            <p>Yii does not provide an email sending class but you can use one of the many extensions, or just use<br />
PHPs mail() function.</p>
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/controllers/UserController.php
public function registerAction() {

    mail($_POST['User']['email'], 'Registration', 'Registration OK');

}
</pre>

You may also use <a href="http://www.yiiframework.com/extension/mail" target="_blank">this</a> extension:

<pre class='prettyprint linenums languague-php'>
$message = new YiiMailMessage;
$message->view = 'registration';
$message->addTo($_POST['User']['email']);
$message->from = Yii::app()->params['adminEmail']; //admin email read from configuration file
Yii::app()->mail->send($message);
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 68de97de20c0352e2c80ea61eeab9401">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>
//protected/controllers/UserController.php
public function accessRules() {
        return array(
            array('allow', // allow not logged in users to register and login
                'actions' => array('register', 'login'),
                'users' => array('*'),
            ),
            array('allow', // additionally allow logged in users to log out
                'actions' => array('logout'),
                'users' => array('@'),
            ),
            array('allow', // allow admin user to manage users
                'actions' => array('manage'),
                'users' => array('admin'),
            ),
            array('deny', // and deny all other actions for users not logged in
                'users' => array('*'),
            ),
        );
}   
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 715910fd0dc8009db366b9922c1e5207">
                                            
                                                                                            First you create a migration class:

<pre class='prettyprint'>
yiic migrate create create_users
</pre>

Then you fill up() and down() methods:

<pre class='prettyprint linenums languague-php'>
class X_create_users extends CDbMigration
{
    public function up()
    {
         $this->createTable('users', array(
            'id' => 'pk',
            'email' => 'string NOT NULL',
            'password' => 'string NOT NULL',
            'role' => 'integer',
            'created'=> 'datetime'
        ));
    }
 
    public function down()
    {
        $this->dropTable('users');

    }
}          
</pre>

And finally you run the migration: 

<pre class='prettyprint'>
yiic migrate
</pre>                                                                                    </div>
                                                                                                                         <div class="tab-pane 9e42f2daa9c83d23b334e72266def544">
                                            
                                                                                            <pre class='prettyprint linenums languague-php'>   
//protected/config/main.php
'preload'=>array('log'),

'db'=>array(
    //...
    'enableParamLogging'=>true,
    'enableProfiling'=>true,
),

'components'=>array(
    'log'=>array(array( 
        'class'=>'CProfileLogRoute', 
        'report'=>'summary',
    )),
    //...
</pre>                                                                                    </div>
                                                                             </div>
                                </div>
                                </div>
                                                    </div>
                    </div>
                  


                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    var disqus_shortname = 'phpjungle';
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>
                    Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
                </noscript>

            </div> 
            

            <footer>
                This site is in early alpha stage, sorry if I wasted your time.
                <p>
                Thanks to <a href="http://ww5.iconsmaster.com/">iconmaster</a> for great panda icon, and to <a href="http://twitter.github.com/bootstrap/">twitter</a> that we don't need to handle the design.
                <br />
                
                <strong>PHP: The framework jungle</strong> by <a href="http://about.me/mailo">Marcin Wawrzyniak (mailo)</a> is licensed under 
                <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>
                
                </p>
            </footer>
        </div>
        <!-- /container -->
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.1.min.js"><\/script>')</script>
        <script src="js/chosen.jquery.js"></script>
        <script src="js/vendor/bootstrap.min.js"></script>
        <script src="js/main.js"></script>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        <script>
        $(function(){
            options = $("select:first").find('option');
     
            rand = Math.floor(Math.random() * options.length)+1;

            $(options[rand]).attr('selected', 'selected');
            $("select").find("option:selected").tab('show');
                    
            $(".chosen").chosen().change(function(e) {
                $("select").find("option:selected").tab('show');
            });

            $(".show-text").click(function(){
                $("h1").toggle();
                $(".hide-me").toggle('slow');
            });

            prettyPrint();

        });
        </script>
    </body>
</html>

